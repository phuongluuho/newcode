#!/bin/bash 
sudo apt-get update -y 
sudo apt-get install -y apache2 mariadb-server 
sudo apt install php libapache2-mod-php php-mysql php-curl php-gd php-json php-intl php-bcmath php-opcache php-apcu php-mbstring php-fileinfo php-xml php-soap php-tokenizer php-zip -y
sudo systemctl enable apache2 
sudo systemctl enable mariadb 
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip" 
sudo apt install unzip -y
unzip awscliv2.zip 
sudo ./aws/install 
echo '<html><h1>Bootstrap Demo</h1><h3>Availability Zone: ' >  /var/www/html/index.html 
curl http://169.254.169.254/latest/meta-data/placement/availability-zone >> /var/www/html/index.html 
echo '</h3> <h3>Instance Id: ' >> /var/www/html/index.html 
curl http://169.254.169.254/latest/meta-data/instance-id >> /var/www/html/index.html 
echo '</h3> <h3>Public IP: ' >> /var/www/html/index.html 
curl http://169.254.169.254/latest/meta-data/public-ipv4 >> /var/www/html/index.html 
echo '</h3> <h3>Local IP: ' >> /var/www/html/index.html 
curl http://169.254.169.254/latest/meta-data/local-ipv4 >> /var/www/html/index.html 
echo '</h3></html> ' >> /var/www/html/index.html 

